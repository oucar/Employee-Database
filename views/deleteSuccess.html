<%

from bottle import request
ID = request.forms.get("ID")

##These are the values that we're going to use for "OldEmployees" table.

FirstName = request.forms.get("FirstName")
LastName = request.forms.get("LastName")
Email = request.forms.get("Email")
Gender = request.forms.get("Gender")
Age = request.forms.get("Age")
Salary = request.forms.get("Salary")
DID = request.forms.get("DID")
DateStarted = request.forms.get("DateStarted")
DateLeft = request.forms.get("DateLeft")
ReasonFL = request.forms.get("ReasonFL")

##Before it deletes the requested employee from "Employee" table, it inserts him/her into "OldEmployee" table along with their ID's and other inputs.

c.execute("INSERT INTO OldEmployees VALUES(null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",(FirstName, LastName, Email, Gender, Age, Salary, DID, DateStarted, DateLeft, ReasonFL))



#### FOR OLD EMPLOYEE

ID = request.forms.get("ID")
FirstName = request.forms.get("FirstName")


###### FOR DELETE EMPLOYEE


c.execute("DELETE FROM Employee WHERE ID = ?", (ID,))

#Saves changes, finishes operations.

db.commit()

## Db.commit saves the changes.
end
%>


<!DOCTYPE html>
<html lang = "en-us">
        <style>
input[type=text], select {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
}

input[type=submit] {
  width: 100%;
  background-color: #3399CC;
  color: white;
  padding: 14px 20px;
  margin: 8px 0;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

input[type=submit]:hover {
  background-color: #90BFFF;
}

div {
  border-radius: 5px;
  background-color: #f2f2f2;

}

/* Navigation bar */
body {
  margin: 10;
  font-family: Arial, Helvetica, sans-serif;
}

.topnav {
  border-radius: 8px;
}

.topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f0;
  text-align: center;
  padding: 15px 15px;

  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #FFF;
  color: black;
}

.topnav a.active {
  background-color: #3399CC;
  color: white;
}

</style>
    <head>
        <title>Deleting the employee..</title>
        <meta charset = "utf-8" />
    <div class="topnav">
  <a class="active" href="http://onurucar.pythonanywhere.com">Main Menu</a>
  <a href="http://onurucar.pythonanywhere.com/employeeMain">Employees</a>
  <a href="http://onurucar.pythonanywhere.com/departmentView">Departments</a>
  <a href="http://onurucar.pythonanywhere.com/statistics">Statistics</a>
    </div>
    <br>
    </head>
    <center>
    <body>
        <div>
            <br>
        <h2>Deleting the person with the following ID: {{ID}}</h2>
        <p>You'll be redirecting to the main menu in a second...</p>
        <br>
        <meta http-equiv="refresh" content="1;url=http://onurucar.pythonanywhere.com/employeeMain" />
    </center>
    </div>

    </body>
</html>
